<!--pages/basicInfo/basicInfo.wxml-->
<view class="container">
  <view class="nav-bar">
    <view class="back-icon" bindtap="goBack">〈</view>
    <text class="title">请填写基本信息</text>
  </view>

  <view class="flow-steps">
    <view class="flow-step active">
      <view class="step-circle">1</view>
      <text class="step-text">研学前</text>
    </view>
    <view class="step-line"></view>
    <view class="flow-step" bindtap="goToStudyDuring">
      <view class="step-circle">2</view>
      <text class="step-text">研学中</text>
    </view>
    <view class="step-line"></view>
    <view class="flow-step" bindtap="goToStudyAfter">
      <view class="step-circle">3</view>
      <text class="step-text">研学后</text>
    </view>
  </view>

  <view class="card">
    <view class="section-title">
      <image class="icon" src="/images/kid_icon.png" mode="aspectFit"></image>
      孩子信息
    </view>

    <block wx:for="{{kidsInfo}}" wx:key="id">
      <view class="kid-info-item">
        <text>{{item.id}}</text>
        <view class="input-row">
          <text class="label">性别</text>
          <input class="input-field" type="text" data-index="{{index}}" bindinput="inputGender" placeholder="请输入"/>
        </view>
        <view class="input-row">
          <text class="label">年龄</text>
          <input class="input-field" type="number" data-index="{{index}}" bindinput="inputAge" placeholder="请输入"/>
        </view>
      </view>
    </block>

    <view class="add-btn" bindtap="addKid">
      <image class="icon" src="/images/add_icon.png" mode="aspectFit"></image>
    </view>
  </view>

  <view class="card">
    <view class="section-title">
      <image class="icon" src="/images/location_icon.png" mode="aspectFit"></image>
      目的地
    </view>

    <view class="venue-type">
      <text class="label">场景类型</text>
      <picker mode="selector" range="{{['博物馆', '科技馆', '历史遗迹', '自然风光']}}" bindchange="selectVenueType">
        <view class="input-field">
          <text>{{venueType || '请选择'}}</text>
        </view>
      </picker>
    </view>

    <view class="specific-venue">
      <text class="label">具体场所</text>
      <picker mode="selector" range="{{['北京故宫', '上海科技馆', '长城', '黄山']}}" bindchange="selectSpecificVenue">
        <view class="input-field">
          <text>{{specificVenue || '请选择'}}</text>
        </view>
      </picker>
    </view>
  </view>

  <view class="card">
    <view class="section-title">
      <image class="icon" src="/images/time_icon.png" mode="aspectFit"></image>
      时长
    </view>

    <view class="duration-selector">
      <view class="duration-option {{duration == '2h' ? 'active' : ''}}" data-time="2h" bindtap="selectDuration">2h</view>
      <view class="duration-option {{duration == '4h' ? 'active' : ''}}" data-time="4h" bindtap="selectDuration">4h</view>
      <view class="duration-option {{duration == '半天' ? 'active' : ''}}" data-time="半天" bindtap="selectDuration">半天</view>
      <view class="duration-option {{duration == '全天' ? 'active' : ''}}" data-time="全天" bindtap="selectDuration">全天</view>
    </view>
  </view>

  <view class="primary-btn" bindtap="generateSuggestion">生成研学主题建议</view>
</view>